function searchMenu() {
	clear

	echo "Búsqueda de Registros"
	echo "======== == ========="
	echo
	echo " a) Búsqueda por apellido"
	echo " n) Búsqueda por nombre"
	echo " d) Búsqueda por DNI"
	echo " t) Mostrar todos los registros"
	echo " v) Volver al menú anterior"
	echo
}

function search() {
	while :
	do
		searchMenu

		read -p "Seleccione una opción: " searchOption

		case $searchOption in
			d | D)
				searchByDNI
				;;
			t | T)
				showAll
				;;
			v | V)
				;;
			*)
				echo 
				echo "ERROR! OPCION INCORRECTA"
				sleep 1
				;;
		esac
		
		[[ $searchOption != "v" && $searchOption != "V" ]] || break
	done
}

function searchByDNI() {
	local searchIndex
	
	echo
	read -p "DNI: " dniSearcher

	clear
	echo "Resultados de la búsqueda"
	echo "========== == == ========"

	for((searchIndex = 0; searchIndex < currentIndex; searchIndex++)) {
		if ((dni[searchIndex] == dniSearcher))
		then
			showResult $searchIndex
		fi
	}
	
	read -p "Presione ENTER para continuar..."
}

function showAll() {
	local searchIndex
	clear
	echo "Resultados de la búsqueda"
	echo "========== == == ========"

	for((searchIndex = 0; searchIndex < currentIndex; searchIndex++)) {
		showResult $searchIndex
	}
	
	read -p "Presione ENTER para continuar..."
}

function showResult() {
	local searchIndex=$1
	
	if [ ${status[searchIndex]} == "ACTIVE" ]
	then
		echo
		echo "Apellido: ${surname[searchIndex]}"
		echo "Nombre: ${name[searchIndex]}"
		echo "DNI:  ${dni[searchIndex]}"
		echo "Direccion: ${postalAddress[searchIndex]}"
		echo "Teléfono: ${phone[searchIndex]}"
		echo "email: ${email[searchIndex]}"
		echo
	fi
}
